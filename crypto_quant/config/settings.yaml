# CryptoQuant 系统配置

# ==================== 数据配置 ====================
data:
  # 数据存储路径
  data_dir: "~/.cryptoquant/data"

  # 默认时间范围
  default_lookback_days: 365

  # 数据频率
  default_interval: "1h"  # 1m, 5m, 15m, 1h, 4h, 1d

  # 数据采集
  collection:
    # 采集间隔 (秒)
    kline_interval: 60
    funding_interval: 3600
    sentiment_interval: 86400

    # 重试配置
    max_retries: 3
    retry_delay: 5

# ==================== 交易所配置 ====================
exchange:
  name: "binance"

  # API配置 (实盘需要)
  api_key: ""
  api_secret: ""

  # 合约类型
  market_type: "future"  # spot, future

  # 网络配置
  timeout: 30000
  rate_limit: true

  # 测试网配置
  testnet: false
  testnet_api_key: ""
  testnet_api_secret: ""

# ==================== 交易配置 ====================
trading:
  # 初始资金
  initial_capital: 100000.0

  # 默认杠杆
  default_leverage: 3.0
  max_leverage: 10.0

  # 保证金模式
  margin_mode: "cross"  # cross, isolated

  # 仓位模式
  position_mode: "one_way"  # one_way, hedge

  # 滑点设置
  slippage: 0.001  # 0.1%

  # 手续费
  taker_fee: 0.0004  # 0.04%
  maker_fee: 0.0002  # 0.02%

# ==================== 风控配置 ====================
risk:
  # 单标的最大仓位
  max_position_pct: 0.2  # 20%

  # 总杠杆限制
  max_total_leverage: 5.0

  # 止损设置
  stop_loss_pct: 0.05  # 5%
  trailing_stop: false
  trailing_stop_pct: 0.03

  # 日亏损限制
  max_daily_loss_pct: 0.1  # 10%

  # 资金费率风险阈值
  funding_rate_warning: 0.001  # 0.1%
  funding_rate_critical: 0.003  # 0.3%

  # 交易频率限制
  min_trade_interval: 60  # 秒
  max_trades_per_day: 100

  # 强制平仓
  liquidation_buffer: 0.1  # 10%

# ==================== 策略配置 ====================
strategy:
  # 模型类型
  model_type: "lightgbm"  # lightgbm, xgboost, mlp

  # 特征组
  feature_groups:
    - momentum
    - volatility
    - volume
    - funding
    - oi
    - ls_ratio
    - taker
    - sentiment

  # 信号阈值
  long_threshold: 0.6
  short_threshold: -0.6
  close_threshold: 0.1

  # 持仓限制
  max_positions: 5

  # 再平衡周期
  rebalance_interval: "4h"  # 1h, 4h, 1d

  # 模型更新
  retrain_interval: "7d"
  min_train_samples: 1000

# ==================== 回测配置 ====================
backtest:
  # 回测时间范围
  start_date: "2023-01-01"
  end_date: "2024-01-01"

  # 基准
  benchmark: "btcusdt"

  # 资金费率
  apply_funding: true
  funding_interval: "8h"

  # 交易成本
  apply_slippage: true
  apply_fees: true

  # 输出
  output_dir: "~/.cryptoquant/backtest"
  save_trades: true
  save_equity_curve: true

# ==================== 日志配置 ====================
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  format: "{time:YYYY-MM-DD HH:mm:ss} | {level} | {message}"

  # 日志文件
  file:
    enabled: true
    path: "~/.cryptoquant/logs"
    rotation: "1 day"
    retention: "30 days"

  # 控制台输出
  console:
    enabled: true
    colorize: true

# ==================== 通知配置 ====================
notification:
  enabled: false

  # Telegram
  telegram:
    enabled: false
    bot_token: ""
    chat_id: ""

  # 邮件
  email:
    enabled: false
    smtp_server: ""
    smtp_port: 587
    username: ""
    password: ""
    recipient: ""
